{"version":3,"sources":["components/Chat/Chat.jsx","SocketContext.js","components/VideoPlayer.jsx","components/Options.jsx","components/Notifications.jsx","components/Chat/Message.jsx","components/Chat/Messages.jsx","App.js","index.js","components/Chat/Message.module.css","components/Notifications.module.css","components/Chat/Chat.module.css","components/Option.module.css","components/Chat/Messages.module.css","components/VideoPlayer.module.css"],"names":["socket","SocketContext","createContext","io","ContextProvider","children","useState","stream","setStream","me","setMe","call","setCall","callAccepted","setCallAccepted","callEnded","setCallEnded","callDeclined","setCallDeclined","name","setName","room","setRoom","mute","setMute","camera","setCamera","myVideo","useRef","userVideo","connectionRef","useEffect","navigator","mediaDevices","getUserMedia","video","audio","document","querySelector","srcObject","onloadedmetadata","e","play","err","alert","then","currentStream","current","getAudioTracks","enabled","on","id","from","callerName","signal","isReceivingCall","Provider","value","callUser","peer","Peer","initiator","trickle","data","emit","userToCall","signalData","destroy","leaveCall","window","location","reload","answerCall","to","muteBtn","stopVideo","getVideoTracks","declineCall","VideoPlayer","showHangUp","setShowHangUp","useContext","className","styles","videoContainer","onClick","onMouseEnter","onMouseLeave","controls","hangUp","style","transform","xmlns","width","height","viewBox","fill","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","hideVid","cx","cy","r","playsInline","ref","autoPlay","videoWrapper","startCall","muted","Options","idToCall","setIdToCall","htmlFor","onChange","target","disabled","length","onFocus","select","readOnly","placeholder","defaultValue","idInput","type","text","x","y","rx","Overlay","props","notifications","DeclineOverlay","Notifications","ReactDOM","createPortal","getElementById","Message","message","user","isSentByCurrentUser","messageWrapper","recipient","Messages","messages","map","i","Chat","chatName","setChatName","chatRoom","setChatRoom","setMessage","setMessages","error","off","console","log","sendMessage","preventDefault","chatContainer","messageContainer","inputContainer","onKeyPress","key","App","render","module","exports"],"mappings":"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","file":"static/js/main.802c399c.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Messages from \"./Messages\";\r\nimport io from 'socket.io-client';\r\n\r\nimport styles from \"./Chat.module.css\"\r\nconst ENDPOINT = 'https://video-chat-app-at.herokuapp.com';\r\nlet socket;\r\nconst Chat = ({name, room}) => {\r\n    const [chatName, setChatName] = useState('');\r\n    const [chatRoom, setChatRoom] = useState('');\r\n    \r\n    const [message, setMessage] = useState('')\r\n    const [messages, setMessages] = useState([])\r\n\r\n    useEffect(()=>{\r\n        \r\n    // const {name, room} = props;\r\n        socket = io(ENDPOINT);\r\n        \r\n        setChatName(name);\r\n        setChatRoom(room);\r\n        socket.emit('join', {name, room}, (error)=> {\r\n            if (error) {\r\n                alert(error)\r\n            }\r\n        })\r\n        return () => {\r\n            socket.emit('disconnect');\r\n            socket.off();\r\n        }\r\n    },[]) // eslint-disable-line \r\n\r\n    useEffect(()=>{\r\n        socket.on('message', (message) => {\r\n            console.log(messages)\r\n            setMessages([...messages, message])\r\n        })\r\n        return () => {\r\n            socket.off('message')\r\n        }\r\n    },[messages])\r\n\r\n    const sendMessage = e => {\r\n        e.preventDefault();\r\n        if (message) {\r\n            socket.emit('sendMessage', message, chatName, chatRoom, ()=>setMessage(''))\r\n        }\r\n    }\r\n    //console.log(messages)\r\n    return (\r\n        <div className={`${styles.chatContainer} is-flex is-flex-direction-column is-justify-content-space-between`}>\r\n            <div className={`${styles.messageContainer} is-flex is-justify-content-flex-end is-align-items-flex-end`}>\r\n                <Messages messages={messages} name={chatName} />\r\n                {/* {messages.map((mes,i)=><div key={i}>\r\n                    <div>{mes.user}</div>\r\n                    <div>{mes.text}</div>\r\n                </div>)} */}\r\n            </div>\r\n            {/* TODO Set height to Messages component */}\r\n            <div className={styles.inputContainer}>\r\n                <div className=\"field has-addons\">\r\n                    <div className=\"control is-expanded\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Type a message...\"\r\n                    value={message}\r\n                    className=\"input is-medium\"\r\n                    onChange={(e)=>setMessage(e.target.value)}\r\n                    onKeyPress={e=>e.key===\"Enter\" ? sendMessage(e) : null}\r\n                />\r\n                    </div>\r\n                    <div className=\"control\">\r\n                <button className=\"button is-info is-medium\" disabled={message.length === 0} onClick={e=>sendMessage(e)}>Send</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React, { createContext, useState, useRef, useEffect } from \"react\";\r\n\r\nimport { io } from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\n\r\nconst SocketContext = createContext();\r\n\r\nconst socket = io(\"https://video-chat-app-at.herokuapp.com\");\r\n\r\nconst ContextProvider = ({ children }) => {\r\n  const [stream, setStream] = useState(null);\r\n  const [me, setMe] = useState(\"\");\r\n  const [call, setCall] = useState({});\r\n  const [callAccepted, setCallAccepted] = useState(false);\r\n  const [callEnded, setCallEnded] = useState(false);\r\n  const [callDeclined, setCallDeclined] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n  const [mute, setMute] = useState(false);\r\n  const [camera, setCamera] = useState(true);\r\n  const myVideo = useRef();\r\n  const userVideo = useRef();\r\n  const connectionRef = useRef();\r\n  useEffect(() => {\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices\r\n        .getUserMedia(\r\n          { video: true, audio: true },\r\n          (stream) => {\r\n            let video = document.querySelector(\"video\");\r\n            video.srcObject = stream;\r\n            video.onloadedmetadata = (e) => {\r\n              video.play();\r\n            };\r\n          },\r\n          (err) => {\r\n            alert(err.name);\r\n          }\r\n        )\r\n        .then((currentStream) => {\r\n          setStream(currentStream);\r\n          myVideo.current.srcObject = currentStream;\r\n          setMute(!currentStream.getAudioTracks()[0].enabled);\r\n        });\r\n    }\r\n    socket.on(\"me\", (id) => setMe(id));\r\n    socket.on(\"callUser\", ({ from, name: callerName, signal }) => {\r\n      setCall({ isReceivingCall: true, from, name: callerName, signal });\r\n    });\r\n  }, []);\r\n  const muteBtn = () => {\r\n    const enabled = stream.getAudioTracks()[0].enabled;\r\n    if (enabled) {\r\n      stream.getAudioTracks()[0].enabled = false;\r\n      setMute(true);\r\n    } else {\r\n      stream.getAudioTracks()[0].enabled = true;\r\n      setMute(false);\r\n    }\r\n  };\r\n  const stopVideo = () => {\r\n    const enabled = stream.getVideoTracks()[0].enabled;\r\n    if (enabled) {\r\n      stream.getVideoTracks()[0].enabled = false;\r\n      setCamera(false);\r\n    } else {\r\n      stream.getVideoTracks()[0].enabled = true;\r\n      setCamera(true);\r\n    }\r\n  };\r\n  const answerCall = () => {\r\n    // console.log(`answerCall id: ${me}`);\r\n    setRoom(me);\r\n    setCallAccepted(true);\r\n    const peer = new Peer({ initiator: false, trickle: false, stream });\r\n    peer.on(\"signal\", (data) => {\r\n      socket.emit(\"answerCall\", { signal: data, to: call.from });\r\n    });\r\n    peer.on(\"stream\", (currentStream) => {\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n    peer.signal(call.signal);\r\n    connectionRef.current = peer;\r\n  };\r\n  const declineCall = () => {\r\n    socket.emit(\"declineCall\", { from: call.from, name: me });\r\n    setCall({});\r\n  };\r\n  const callUser = (id) => {\r\n    // console.log(`callUser id: ${id}`);\r\n    const peer = new Peer({ initiator: true, trickle: false, stream });\r\n    peer.on(\"signal\", (data) => {\r\n      socket.emit(\"callUser\", {\r\n        userToCall: id,\r\n        signalData: data,\r\n        from: me,\r\n        name,\r\n      });\r\n    });\r\n    peer.on(\"stream\", (currentStream) => {\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n    socket.on(\"callAccepted\", (signal) => {\r\n      setRoom(id);\r\n      setCallAccepted(true);\r\n      peer.signal(signal);\r\n    });\r\n    connectionRef.current = peer;\r\n    socket.on(\"declineCall\", () => {\r\n      setCallDeclined(true);\r\n      connectionRef.current.destroy();\r\n    });\r\n  };\r\n  const leaveCall = () => {\r\n    setCallEnded(true);\r\n    connectionRef.current.destroy();\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <SocketContext.Provider\r\n      value={{\r\n        call,\r\n        callAccepted,\r\n        myVideo,\r\n        userVideo,\r\n        stream,\r\n        name,\r\n        setName,\r\n        callEnded,\r\n        me,\r\n        callUser,\r\n        leaveCall,\r\n        answerCall,\r\n        room,\r\n        mute,\r\n        muteBtn,\r\n        stopVideo,\r\n        declineCall,\r\n        callDeclined,\r\n        camera,\r\n      }}\r\n    >\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n};\r\nexport { ContextProvider, SocketContext };\r\n","import React, {useContext,useState} from 'react';\r\nimport { SocketContext } from '../SocketContext';\r\n\r\nimport styles from \"./VideoPlayer.module.css\";\r\n// import Chat from \"./Chat\"\r\n// import Options from \"./Options\";\r\n// import Notifications from \"./Notifications\"\r\n\r\nconst VideoPlayer = () => {\r\n    const [showHangUp, setShowHangUp] = useState(false);\r\n    const {\r\n        // name,\r\n        callAccepted,\r\n        myVideo,\r\n        userVideo,\r\n        callEnded,\r\n        stream,\r\n        leaveCall,\r\n        muteBtn,\r\n        mute,\r\n        stopVideo,\r\n        camera\r\n        // call,\r\n    } = useContext(SocketContext)\r\n    //console.log(call)\r\n    return (\r\n        <>\r\n        <section className={styles.videoContainer}>\r\n            {\r\n                callAccepted && !callEnded && (\r\n                    <div onClick={()=>setShowHangUp(true)} onMouseEnter={()=>setShowHangUp(true)} onMouseLeave={()=>setShowHangUp(false)} className={styles.userVideo}>\r\n                        <div className={`${styles.controls}${showHangUp ? \"\" : \" is-hidden\"}`}>\r\n                            <div className=\"buttons is-right\">\r\n                                <button className={`button is-small is-danger ${styles.hangUp}`} onClick={leaveCall}>\r\n                                <svg style={{transform: 'rotate(135deg)'}} className=\"mr-2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                                        <path d=\"M3.51089 2L7.15002 2.13169C7.91653 2.15942 8.59676 2.64346 8.89053 3.3702L9.96656 6.03213C10.217 6.65159 10.1496 7.35837 9.78693 7.91634L8.40831 10.0375C9.22454 11.2096 11.4447 13.9558 13.7955 15.5633L15.5484 14.4845C15.9939 14.2103 16.5273 14.1289 17.0314 14.2581L20.5161 15.1517C21.4429 15.3894 22.0674 16.2782 21.9942 17.2552L21.7705 20.2385C21.6919 21.2854 20.8351 22.1069 19.818 21.9887C6.39245 20.4276 -1.48056 1.99997 3.51089 2Z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>\r\n                                    Hang Up\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"buttons is-right\">\r\n                            <button className={`button is-small is-info ${styles.mute}`} onClick={muteBtn}>{mute ? (\r\n                                <>\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"mr-1\">\r\n<path d=\"M8 8H3C2.44772 8 2 8.44772 2 9V15C2 15.5523 2.44772 16 3 16H8L14 21V3L8 8Z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n<path d=\"M17 9.35425C17.6224 10.0594 18 10.9856 18 12.0001C18 13.0145 17.6224 13.9408 17 14.6459\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n<path d=\"M21 8C21.6224 9.06603 22 10.4663 22 12C22 13.5337 21.6224 14.934 21 16\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n</svg> Unmute\r\n                                </>\r\n                            ):(\r\n                                <>\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"mr-1\">\r\n<path d=\"M22 10L20 12M20 12L18 14M20 12L18 10M20 12L22 14\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n<path d=\"M8.5 8H3C2.44772 8 2 8.44772 2 9V15C2 15.5523 2.44772 16 3 16H8.5L15 21V3L8.5 8Z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n</svg> Mute\r\n                                </>\r\n                            )}</button></div>\r\n                            <div className=\"buttons is-right\">\r\n                            <button className={`button is-small is-info is-light ${styles.hideVid}`} onClick={stopVideo}>{camera ? (\r\n                                <>\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"mr-1\">\r\n                                    <path d=\"M2 2L22 22\" stroke=\"#296fa8\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    <path d=\"M6.71277 6.7226C3.66479 8.79527 2 12 2 12C2 12 5.63636 19 12 19C14.0503 19 15.8174 18.2734 17.2711 17.2884M11 5.05822C11.3254 5.02013 11.6588 5 12 5C18.3636 5 22 12 22 12C22 12 21.3082 13.3317 20 14.8335\" stroke=\"#296fa8\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    <path d=\"M14 14.2362C13.4692 14.7112 12.7684 15.0001 12 15.0001C10.3431 15.0001 9 13.657 9 12.0001C9 11.1764 9.33193 10.4303 9.86932 9.88818\" stroke=\"#296fa8\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>Camera Off\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"mr-1\">\r\n                                    <path d=\"M1 12C1 12 5 4 12 4C19 4 23 12 23 12\" stroke=\"#296fa8\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    <path d=\"M1 12C1 12 5 20 12 20C19 20 23 12 23 12\" stroke=\"#296fa8\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"#296fa8\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>Camera On\r\n                                </>\r\n                            )}</button></div>\r\n                        </div>\r\n                        <video playsInline ref={userVideo} autoPlay className={styles.video} />\r\n                    </div>\r\n                )\r\n            }\r\n            {\r\n                stream && (\r\n                    <>\r\n                    {/* <p>{name || \"Name\"}</p> */}\r\n                    <div className={`${styles.videoWrapper} ${callAccepted && !callEnded && styles.startCall}`}>\r\n                        <video playsInline muted ref={myVideo} autoPlay className={styles.video} />\r\n                    </div>\r\n                    </>\r\n                )\r\n            }\r\n        </section>\r\n        \r\n      {/* <Options>\r\n        <Notifications />\r\n      </Options> */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default VideoPlayer\r\n","import React, {useContext, useState} from 'react';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { SocketContext } from '../SocketContext';\r\n\r\nimport styles from \"./Option.module.css\"\r\n\r\nconst Options = ({children}) => {\r\n    const {me, callAccepted, name, setName, callUser} = useContext(SocketContext);\r\n    const [idToCall, setIdToCall] = useState(\"\");\r\n    // console.log(callAccepted)\r\n    return (\r\n        <>\r\n        {!callAccepted &&\r\n        <div className=\"is-expanded\">\r\n                <div className=\"field\">\r\n                    <label htmlFor=\"name\" className=\"label\">Name</label>\r\n                    <input id=\"name\" className=\"input\" value={name} onChange={e=>setName(e.target.value)} />\r\n                </div>\r\n                <div className=\"field\">\r\n                    <label htmlFor=\"recipient\" className=\"label\">Recipient ID</label>\r\n                    <input value={idToCall} id=\"recipient\" className=\"input\" onChange={e=>setIdToCall(e.target.value)} />\r\n                </div>\r\n                \r\n                <button className=\"button is-success is-large is-fullwidth\" disabled={name.length === 0 || idToCall.length === 0} onClick={()=>callUser(idToCall)}>\r\n                    <svg className=\"mr-2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                        <path d=\"M3.51089 2L7.15002 2.13169C7.91653 2.15942 8.59676 2.64346 8.89053 3.3702L9.96656 6.03213C10.217 6.65159 10.1496 7.35837 9.78693 7.91634L8.40831 10.0375C9.22454 11.2096 11.4447 13.9558 13.7955 15.5633L15.5484 14.4845C15.9939 14.2103 16.5273 14.1289 17.0314 14.2581L20.5161 15.1517C21.4429 15.3894 22.0674 16.2782 21.9942 17.2552L21.7705 20.2385C21.6919 21.2854 20.8351 22.1069 19.818 21.9887C6.39245 20.4276 -1.48056 1.99997 3.51089 2Z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                    </svg>\r\n                    Call\r\n                </button>\r\n                <div className=\"field mt-6\">\r\n                    <label htmlFor=\"yourId\" className=\"label\">Your ID</label>\r\n                    <div className=\"control\">\r\n                        <div className=\"field has-addons\">\r\n                            {/* <div className=\"control\">\r\n                                <button>\r\n\r\n                                </button>\r\n                            </div> */}\r\n                            <div className=\"control is-expanded\">\r\n                                <input disabled={name.length===0} id=\"yourId\" onFocus={(e)=>e.target.select()} readOnly placeholder={me} defaultValue={name.length===0? \"\" : me} className={`input ${styles.idInput}`} type=\"text\" />\r\n                            </div>\r\n                            <div className=\"control\">\r\n                                <CopyToClipboard text={me}>\r\n                                <button disabled={name.length===0} className=\"button is-info\">\r\n                                    <svg className=\"mr-2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                                        <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>\r\n                                    Copy\r\n                                </button>\r\n                                </CopyToClipboard>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {name.length===0 &&\r\n                            <p className=\"help is-danger\">Please enter your name.</p>\r\n                            }\r\n                </div>\r\n            {children}\r\n            </div>\r\n    }\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Options\r\n","import React, {useContext} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { SocketContext } from '../SocketContext';\r\nimport styles from \"./Notifications.module.css\"\r\n\r\nconst Overlay = (props) => {\r\n    return (\r\n        <div className={`${styles.notifications} modal is-active`}>\r\n            <div className=\"modal-background\"></div>\r\n            <div className=\"modal-content\">\r\n                <div className=\"message is-success has-text-centered\">\r\n                    <div className=\"message-header is-justify-content-center\">\r\n                        <p>{props.name} is calling.</p>\r\n                    </div>\r\n                    <div className=\"message-body\">\r\n                        <button className=\"mx-2 button is-success\" onClick={props.answerCall}><svg className=\"mr-2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                                        <path d=\"M3.51089 2L7.15002 2.13169C7.91653 2.15942 8.59676 2.64346 8.89053 3.3702L9.96656 6.03213C10.217 6.65159 10.1496 7.35837 9.78693 7.91634L8.40831 10.0375C9.22454 11.2096 11.4447 13.9558 13.7955 15.5633L15.5484 14.4845C15.9939 14.2103 16.5273 14.1289 17.0314 14.2581L20.5161 15.1517C21.4429 15.3894 22.0674 16.2782 21.9942 17.2552L21.7705 20.2385C21.6919 21.2854 20.8351 22.1069 19.818 21.9887C6.39245 20.4276 -1.48056 1.99997 3.51089 2Z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg> Answer</button>\r\n                        <button className={`mx-2 button is-danger is-outlined ${styles.declineCall}`} onClick={props.declineCall}>\r\n                        <svg style={{transform: 'rotate(135deg)'}} className=\"mr-2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                                        <path d=\"M3.51089 2L7.15002 2.13169C7.91653 2.15942 8.59676 2.64346 8.89053 3.3702L9.96656 6.03213C10.217 6.65159 10.1496 7.35837 9.78693 7.91634L8.40831 10.0375C9.22454 11.2096 11.4447 13.9558 13.7955 15.5633L15.5484 14.4845C15.9939 14.2103 16.5273 14.1289 17.0314 14.2581L20.5161 15.1517C21.4429 15.3894 22.0674 16.2782 21.9942 17.2552L21.7705 20.2385C21.6919 21.2854 20.8351 22.1069 19.818 21.9887C6.39245 20.4276 -1.48056 1.99997 3.51089 2Z\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg> Decline</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst DeclineOverlay = (props) => {\r\n    return (\r\n        <div className={`${styles.notifications} modal is-active`}>\r\n            <div className=\"modal-background\"></div>\r\n            <div className=\"modal-content\">\r\n                <div className=\"message is-danger has-text-centered\">\r\n                    <div className=\"message-header is-justify-content-center\">\r\n                        <p>Call Declined</p>\r\n                    </div>\r\n                    <div className=\"message-body\">\r\n                    <p>Your call was declined.</p>\r\n                    <button className=\"button mt-3 is-danger\" onClick={()=>window.location.reload()}>OK</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Notifications = () => {\r\n    const {answerCall, call, callAccepted, declineCall, callDeclined} = useContext(SocketContext);\r\n    return (\r\n        <>\r\n            {call.isReceivingCall && !callAccepted &&\r\n                ReactDOM.createPortal(<Overlay name={call.name} answerCall={answerCall} declineCall={declineCall} />, document.getElementById('modal-root'))\r\n                \r\n             } \r\n             {callDeclined && \r\n                ReactDOM.createPortal(<DeclineOverlay name={call.name} />, document.getElementById('modal-root'))\r\n             }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notifications\r\n","import React from 'react';\r\nimport styles from \"./Message.module.css\"\r\n\r\nconst Message = ({message: {user, text}, name}) => {\r\n    let isSentByCurrentUser = false;\r\n    if (user === name) {\r\n        isSentByCurrentUser = true\r\n    }\r\n    return (\r\n        isSentByCurrentUser ? \r\n        (\r\n            <div className={`is-justify-content-flex-end my-2 mr-1 ${styles.messageWrapper}`}>\r\n                <div className={`py-2 px-4 ${styles.me}`}>\r\n                    {text}<br /><small className=\"is-size-7\">{name}</small>\r\n                </div>\r\n            </div>\r\n        ) : (\r\n            \r\n            <div className={`my-2 ${styles.messageWrapper}`}>\r\n                <div className={`py-2 px-4 ${styles.recipient}`}>\r\n                    {text}<br /><small className=\"is-size-7\">{user}</small>\r\n                </div>\r\n            </div>\r\n        )\r\n        \r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react';\r\nimport Message from \"./Message\"\r\n// import ScrollToBottom from 'react-scroll-to-bottom';\r\nimport ScrollableFeed from \"react-scrollable-feed\"\r\n\r\nimport styles from \"./Messages.module.css\"\r\n\r\nconst Messages = ({messages, name}) => {\r\n    // TODO: fix design for responsive\r\n    return (\r\n        <ScrollableFeed className={styles.messages}>\r\n            {messages.map((message, i) => <Message key={i} message={message} name={name} />)}\r\n        </ScrollableFeed>\r\n    )\r\n}\r\n\r\nexport default Messages\r\n","import React, { useContext } from \"react\";\r\nimport VideoPlayer from \"./components/VideoPlayer\";\r\nimport Options from \"./components/Options\";\r\nimport Notifications from \"./components/Notifications\";\r\nimport Chat from \"./components/Chat/Chat\";\r\nimport { SocketContext } from \"./SocketContext\";\r\n\r\nconst App = () => {\r\n  const { callAccepted, callEnded, name, room } = useContext(SocketContext);\r\n  // const id = me;\r\n  return (\r\n    <div className=\"container\">\r\n      <div\r\n        className={`columns is-variable is-0 is-3-desktop is-multiline${\r\n          !callAccepted ? \" is-align-items-center\" : \"\"\r\n        }`}\r\n      >\r\n        <div className=\"column is-full is-two-thirds-desktop py-0\">\r\n          <VideoPlayer />\r\n        </div>\r\n        <div className=\"column py-0\">\r\n          <Options>\r\n            <Notifications />\r\n          </Options>\r\n          {callAccepted && !callEnded && <Chat name={name} room={room} />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nimport { ContextProvider } from \"./SocketContext\";\r\nimport \"./styles.css\";\r\n\r\nReactDOM.render(\r\n  <ContextProvider>\r\n    <App />\r\n  </ContextProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageWrapper\":\"Message_messageWrapper__1v5Ep\",\"me\":\"Message_me__1CXqN\",\"recipient\":\"Message_recipient__1IEPH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Notifications_backdrop__1KxwY\",\"notifications\":\"Notifications_notifications__1fKaB\",\"declineCall\":\"Notifications_declineCall__2eCpS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__WVdOe\",\"messageContainer\":\"Chat_messageContainer__3k8e0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"optionContainer\":\"Option_optionContainer__hjdh6\",\"idInput\":\"Option_idInput__2PwwM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__2VVF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoContainer\":\"VideoPlayer_videoContainer__Wkg_G\",\"videoWrapper\":\"VideoPlayer_videoWrapper__1vi9s\",\"video\":\"VideoPlayer_video__2IY1h\",\"startCall\":\"VideoPlayer_startCall__25Yyn\",\"userVideo\":\"VideoPlayer_userVideo__2qKY5\",\"controls\":\"VideoPlayer_controls__2vEVM\"};"],"sourceRoot":""}